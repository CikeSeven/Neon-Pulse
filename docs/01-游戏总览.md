# 霓虹射线 - 游戏设计文档

## 目录

- [游戏概述](#游戏概述)
- [核心特色](#核心特色)
- [游戏系统架构](#游戏系统架构)
- [文档索引](#文档索引)

---

## 游戏概述

### 游戏定位

**霓虹射线 (Neon Ray)** 是一款强调走位与策略的横向卷轴射击游戏。

| 项目 | 说明 |
|------|------|
| 游戏类型 | 横向卷轴射击 (Side-Scrolling Shooter) |
| 游戏风格 | Rogue-lite + 霓虹视觉 |
| 视角模式 | 2D 俯视/侧视 |
| 目标平台 | PC / 主机 |

玩家控制一艘霓虹涂装的战机，在三条轨道上与海量敌人作战。通过击杀敌人获得金币和经验，解锁新武器、提升天赋，在越来越困难的关卡中生存并变得更强。

### 目标用户

| 用户类型 | 期望体验 |
|----------|----------|
| 休闲玩家 | 简单上手，视觉享受 |
| 硬核玩家 | 高难度挑战，Build构建 |
| 收集爱好者 | 解锁全武器，全天赋 |
| 刷刷乐玩家 | 成长感，数值提升 |

---

## 核心特色

### 1. 三轨道移动系统

```
     上轨道 (Lane 0)    ════════════════════
                             ▲
                             │
     中轨道 (Lane 1)    ════════════════════   ◄── 玩家
                             ▲
                             │
     下轨道 (Lane 2)    ════════════════════

     玩家方向 ◄── 敌人方向
```

- **纵向切换**：在三条轨道间快速切换
- **横向微调**：小范围左右移动躲避攻击
- **策略走位**：灵活切换轨道规避危险

### 2. 自动射击武器系统

```
        武器环绕排列

             ▲
             │
        ┌────┴────┐
        │  武器1  │
        │    ●    │
   ◄────┤        ├────►
        │  武器2  │
        └────┬────┘
             │
             ▼

    武器自动发射，玩家专注走位
```

- **自动锁定**：武器自动瞄准最近的敌人
- **武器环绕**：收集的武器自动排列在玩家周围
- **升级成长**：每把武器可独立升级

### 3. 碰撞伤害机制

```
        伤害公式：玩家扣血 = 怪物当前HP × 0.5 + 10

        撞击满血BOSS (500HP)    = 260 伤害
        撞击普通怪 (30HP)        = 25 伤害
        撞击残血怪 (5HP)         = 12 伤害
```

- **鼓励削弱**：必须先削弱怪物再接触
- **增加策略**：不能无脑冲锋

### 4. rogue-lite 成长元素

| 系统 | 说明 |
|------|------|
| 天赋树 | 4系（战斗/生存/资源/特殊），20+天赋技能 |
| 武器系统 | 7+独特武器，独立升级，组合Build |
| 经济系统 | 金币购买/升级，经验获取，随机掉落 |

### 5. 霓虹赛博朋克视觉风格

**美术风格定位**：霓虹赛博朋克 (Neon Cyberpunk)

```
┌─────────────────────────────────────────────────────────────────┐
│                                                                 │
│  ███╗   ██╗███████╗ ██████╗ ███╗   ██╗                         │
│  ████╗  ██║██╔════╝██╔═══██╗████╗  ██║                         │
│  ██╔██╗ ██║█████╗  ██║   ██║██╔██╗ ██║                         │
│  ██║╚██╗██║██╔══╝  ██║   ██║██║╚██╗██║                         │
│  ██║ ╚████║███████╗╚██████╔╝██║ ╚████║                         │
│  ╚═╝  ╚═══╝╚══════╝ ╚═════╝ ╚═╝  ╚═══╝                         │
│                                                                 │
│  炫酷 · 发光 · 动感 · 未来感                                    │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

| 视觉元素 | 说明 |
|----------|------|
| 整体风格 | 赛博朋克霓虹美学，炫酷科幻感 |
| 色彩基调 | 深色背景 + 高饱和霓虹色（电光蓝、洋红、紫罗兰、荧光黄） |
| 光晕效果 | 强烈的 Glow 光晕，所有元素都带发光边缘 |
| 粒子特效 | 大量粒子效果：拖尾、爆炸、火花、能量波、碎片飞溅 |
| 动态效果 | 屏幕震动、闪烁、脉冲动画、呼吸灯效果 |

**视觉效果要求**：

```
┌─────────────────────────────────────────────────────────────────┐
│                                                                 │
│  光晕效果 (Glow)                                                │
│  ─────────────────────────────────────────────────────────────  │
│  • WorldEnvironment 开启 Glow                                   │
│  • 所有游戏元素使用高亮度颜色触发光晕                            │
│  • 光晕强度：1.5 - 2.5                                          │
│  • 光晕混合模式：Additive                                       │
│  • 多层光晕叠加，营造霓虹灯效果                                  │
│                                                                 │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  粒子效果 (Particles)                                           │
│  ─────────────────────────────────────────────────────────────  │
│  • 玩家移动：霓虹拖尾粒子                                        │
│  • 子弹飞行：能量尾迹粒子                                        │
│  • 敌人受击：火花飞溅粒子                                        │
│  • 敌人死亡：爆炸碎片粒子 + 能量消散                             │
│  • 升级/拾取：光环扩散粒子                                       │
│  • 背景装饰：漂浮尘埃/数据流粒子                                 │
│                                                                 │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  动态反馈                                                       │
│  ─────────────────────────────────────────────────────────────  │
│  • 受伤：屏幕红闪 + 震动                                         │
│  • 击杀：短暂慢动作 + 爆炸特效                                   │
│  • 暴击：屏幕闪白 + 特殊音效                                     │
│  • 升级：全屏光波扩散                                            │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

**资源使用原则**：

```
┌─────────────────────────────────────────────────────────────────┐
│                                                                 │
│  场景素材：使用 Godot 内置节点构建                               │
│  ─────────────────────────────────────────────────────────────  │
│  • 基础形状：ColorRect / Polygon2D / Line2D                     │
│  • 粒子系统：CPUParticles2D / GPUParticles2D                    │
│  • 光效节点：PointLight2D / DirectionalLight2D                  │
│  • 着色器：自定义 Shader 实现特殊效果                            │
│  • 动画：AnimationPlayer / Tween 实现动态效果                   │
│                                                                 │
│  不使用外部图片资源，通过节点组合+着色器实现炫酷效果             │
│                                                                 │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  UI素材：可使用外部资源                                          │
│  ─────────────────────────────────────────────────────────────  │
│  • 图标：武器图标、道具图标、天赋图标                            │
│  • 字体：霓虹风格/科幻风格字体                                   │
│  • 按钮：可使用图片或StyleBox                                    │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

**色彩规范**：

| 元素 | 颜色名称 | 色值 | 说明 |
|------|----------|------|------|
| 背景 | 深空黑 | #050510 | 近乎纯黑，带微蓝 |
| 玩家 | 电光蓝 | #00f0ff | 高亮度青色 |
| 敌人(被动) | 洋红 | #ff00aa | 粉紫色 |
| 敌人(冲撞) | 烈焰橙 | #ff6600 | 高饱和橙 |
| 敌人(射击) | 紫罗兰 | #aa00ff | 亮紫色 |
| 敌人(追踪) | 毒液绿 | #00ff66 | 荧光绿 |
| 子弹(玩家) | 荧光黄 | #ffff00 | 高亮黄色 |
| 子弹(敌人) | 血红 | #ff0033 | 鲜红色 |
| 轨道线 | 霓虹紫 | #cc00ff | 发光紫色 |
| 金币 | 金光 | #ffcc00 | 金黄色 |
| 经验 | 能量蓝 | #00aaff | 天蓝色 |
| 精英怪 | 皇金 | #ffd700 | 金色光晕 |
| BOSS | 血腥红 | #ff0000 | 纯红警示 |

---

## 游戏系统架构

### 系统关系图

```
┌─────────────────────────────────────────────────────────────────┐
│                    ┌─────────────────┐                          │
│                    │   游戏主循环    │                          │
│                    └────────┬────────┘                          │
│                             │                                   │
│         ┌───────────────────┼───────────────────┐               │
│         │                   │                   │               │
│         ▼                   ▼                   ▼               │
│  ┌─────────────┐    ┌─────────────┐    ┌─────────────┐         │
│  │  玩家系统   │    │  战斗系统   │    │  关卡系统   │         │
│  ├─────────────┤    ├─────────────┤    ├─────────────┤         │
│  │ • 移动控制  │    │ • 敌人生成  │    │ • 关卡进度  │         │
│  │ • 生命管理  │    │ • 战斗判定  │    │ • BOSS战    │         │
│  └──────┬──────┘    └──────┬──────┘    └──────┬──────┘         │
│         │                   │                   │               │
│         └───────────────────┼───────────────────┘               │
│                             │                                   │
│                             ▼                                   │
│              ┌────────────────────────────┐                     │
│              │       进度系统              │                     │
│              │ 等级系统 / 天赋系统 / 金币 / 掉落                │
│              └────────────────────────────┘                     │
│                             │                                   │
│                             ▼                                   │
│              ┌────────────────────────────┐                     │
│              │       数据系统              │                     │
│              │   存档管理 / UI界面         │                     │
│              └────────────────────────────┘                     │
└─────────────────────────────────────────────────────────────────┘
```

### 核心循环

```
                    ┌──────────────────┐
                    │   开始关卡       │
                    └────────┬─────────┘
                             │
                             ▼
                    ┌──────────────────┐
                    │   战斗阶段       │◄──────────────┐
                    │  (2分钟)         │               │
                    └────────┬─────────┘               │
                             │                         │
              ┌──────────────┼──────────────┐          │
              │              │              │          │
              ▼              ▼              ▼          │
        ┌─────────┐   ┌─────────┐   ┌─────────┐       │
        │击杀怪物 │   │躲避攻击 │   │收集资源 │       │
        └────┬────┘   └────┬────┘   └────┬────┘       │
             │             │             │             │
             └─────────────┴─────────────┘             │
                             │                         │
                             ▼                         │
                    ┌──────────────────┐               │
                    │   时间结束       │               │
                    │   BOSS出现       │               │
                    └────────┬─────────┘               │
                             │                         │
                             ▼                         │
                    ┌──────────────────┐               │
                    │   击杀BOSS       │               │
                    └────────┬─────────┘               │
                             │                         │
                             ▼                         │
                    ┌──────────────────┐               │
                    │   关卡结算       │               │
                    │   奖励发放       │───────────────┘
                    └────────┬─────────┘
                             │
                             ▼
                    ┌──────────────────┐
                    │   商店/升级      │◄── 可循环
                    └────────┬─────────┘
                             │
                             ▼
                    ┌──────────────────┐
                    │   下一关卡       │
                    └──────────────────┘
```

---

## 文档索引

| 文档 | 标题 | 内容说明 |
|------|------|----------|
| 01 | 游戏总览 | 整体介绍、核心特色、系统架构 |
| 02 | 核心玩法 | 游戏操作、战斗机制、移动控制 |
| 03 | 武器系统 | 武器类型、数据结构、升级系统 |
| 04 | 敌人生成与战斗 | 敌人AI、生成规则、战斗判定 |
| 05 | 进度系统 | 等级、天赋、关卡、经济系统 |
| 06 | UI与数据 | 界面设计、存档、掉落系统 |

### 推荐阅读顺序

```
1. 阅读 01-游戏总览 了解整体概念
2. 阅读 02-核心玩法 理解操作方式
3. 阅读 03-武器系统 认识战斗手段
4. 阅读 04-敌人系统 了解挑战目标
5. 阅读 05-进度系统 规划成长路径
6. 阅读 06-UI与数据 完善游戏体验
```

---

## 版本信息

| 版本 | 日期 | 说明 |
|------|------|------|
| 1.0 | 2026-02-01 | 初始文档版本 |

---

*文档版本：1.0*
*最后更新：2026年2月1日*
