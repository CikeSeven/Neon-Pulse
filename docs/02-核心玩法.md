# 核心玩法

## 目录

- [1. 游戏概述](#1-游戏概述)
- [2. 轨道系统](#2-轨道系统)
- [3. 移动控制](#3-移动控制)
- [4. 战斗机制](#4-战斗机制)
- [5. 核心循环](#5-核心循环)

---

## 1. 游戏概述

### 1.1 游戏类型

**霓虹射线** 是一款横向卷轴射击游戏 (Side-Scrolling Shooter)，融合 rogue-lite 成长元素。

| 特点 | 说明 |
|------|------|
| 核心玩法 | 移动 + 自动射击 |
| 成长系统 | 等级、天赋、武器升级 |
| 视觉风格 | 霓虹发光线框 |
| 游戏节奏 | 短关卡 (2分钟) + 频繁奖励 |

---

## 2. 轨道系统

### 2.1 三轨道设计

```
                          上轨道 (Lane 0)
    ════════════════════════════════════════════════
                              ▲
                              │
                          中轨道 (Lane 1)
    ════════════════════════════════════════════════
                                    ▲
                                    │
                                    │ 玩家
                                    ▼
                          下轨道 (Lane 2)
    ════════════════════════════════════════════════

    玩家方向 ◄───────────────────── 敌人生成方向
```

### 2.2 轨道参数

| 参数 | 值 |
|------|-----|
| 轨道数量 | 3 |
| 轨道间距 | 200 像素 |
| 上轨道Y坐标 | -200 |
| 中轨道Y坐标 | 0 |
| 下轨道Y坐标 | 200 |
| 换道时间 | 0.3 秒 |

### 2.3 屏幕布局

```
┌─────────────────────────────────────────────────────────────────┐
│                                                                 │
│  左侧安全区    │         战斗区域          │  右侧生成区        │
│               │                            │                    │
│  玩家活动      │         3条轨道            │   怪物生成         │
│  (45%宽度)     │         横向卷轴           │   (屏幕外)         │
│               │                            │                    │
└─────────────────────────────────────────────────────────────────┘
```

---

## 3. 移动控制

### 3.1 键盘控制

| 按键 | 功能 |
|------|------|
| W / ↑ | 切换到上一条轨道 |
| S / ↓ | 切换到下一条轨道 |
| A / ← | 向左微调位置 |
| D / → | 向右微调位置 |
| 空格 | 紧急闪避 (可选) |
| ESC | 暂停菜单 |

### 3.2 移动限制

**纵向限制：**
- 只能在3条轨道间切换
- 不能移动到轨道之外
- 换道有冷却时间

**横向限制：**
- 左边界：屏幕宽度的45%处
- 右边界：屏幕右边缘
- 可以小范围左右移动躲避

---

## 4. 战斗机制

### 4.1 自动射击

```
核心机制：武器自动射击，无需手动操作

玩家职责：
  • 移动位置躲避敌人
  • 切换轨道规避危险
  • 收集资源提升战力
```

### 4.2 受伤机制

**碰撞伤害公式：**

```
玩家扣血 = 当前怪物生命值 × 0.5 + 基础伤害10
```

| 情况 | 伤害值 |
|------|--------|
| 撞击满血BOSS (500HP) | 260 |
| 撞击普通怪 (30HP) | 25 |
| 撞击残血怪 (5HP) | 12 |

**设计意义：**
- 鼓励玩家先削弱怪物再接触
- 增加策略深度，不能无脑冲锋

### 4.3 敌人应对策略

| 敌人类型 | 应对方式 |
|----------|----------|
| 被动型 | 直接撞击或射击击杀 |
| 冲撞型 | 检测到冲刺时立即换道躲避 |
| 射击型 | 优先击杀或保持距离 |
| 追踪型 | 持续移动不要停留 |
| 精英怪 | 先削弱再接触 |
| BOSS | 学习攻击模式，利用间隙输出 |

### 4.4 基础策略

```
新手策略：
  1. 保持距离 - 不要靠近高HP怪物
  2. 先削弱 - 用武器打残怪物再接触
  3. 灵活走位 - 及时切换轨道躲避
  4. 收集资源 - 击杀后拾取掉落物

进阶策略：
  1. 走位输出 - 边走位边输出
  2. 集中火力 - 先击杀一个目标
  3. 利用地形 - 预判怪物移动路线
  4. 资源管理 - 合理使用血包和道具
```

---

## 5. 核心循环

### 5.1 战斗阶段

```
开始
  │
  ▼
生成敌人 ──► 玩家躲避/射击 ──► 击杀 ──► 拾取掉落
  │                              │
  │                              ▼
  │◄──────────────────────── 收集金币+经验
  │
  ▼
时间结束 ──► BOSS出现 ──► 击杀BOSS ──► 关卡完成
```

### 5.2 升级阶段

```
关卡完成 ─────────────────────────────────────────┐
  │                                               │
  ▼                                               ▼
天赋升级 ──────────────────────────────► 武器升级/购买
  │                                               │
  │                                               ▼
  ◄──────────────────────────────────────── 商店购物
  │
  ▼
进入下一关
```

### 5.3 成长曲线

```
玩家能力 = 基础属性 × (1 + 天赋加成) × (1 + 武器加成)

伤害成长来源：
  • 武器每级 +15%
  • 天赋最高 +40%
  • 武器大师 +10%

射速成长来源：
  • 武器每级 +5%
  • 天赋最高 +60%

防御成长来源：
  • 天赋最高 +50护甲
  • 天赋闪避率最高 15%
```

---

*文档版本：1.0*
*最后更新：2026年2月1日*
