# 进度系统

## 目录

- [1. 等级系统](#1-等级系统)
- [2. 天赋系统](#2-天赋系统)
- [3. 关卡系统](#3-关卡系统)
- [4. 经济系统](#4-经济系统)

---

## 1. 等级系统

### 1.1 经验用途

**经验只能用于升级**，每次升级可以选择一个新天赋进行解锁。

### 1.2 经验公式

```
升级所需经验 = 基础值 × (等级 ^ 1.5)
公式：100 × 等级^1.5
```

### 1.3 等级表

| 等级 | 本级经验 | 累计经验 | 可选天赋数 |
|------|----------|----------|------------|
| 1 | 100 | 0 | - |
| 2 | 283 | 100 | 1 |
| 3 | 520 | 383 | 2 |
| 5 | 1118 | 1521 | 4 |
| 10 | 3162 | 7943 | 9 |
| 20 | 8944 | ~31000 | 19 |
| 30 | 16432 | ~90000 | 29 |

### 1.4 升级流程

1. 玩家获得足够经验后自动升级
2. 升级时游戏暂停，弹出天赋选择界面
3. 随机展示3个可选天赋（从未解锁的天赋池中抽取）
4. 玩家选择1个天赋解锁
5. 继续游戏

---

## 2. 天赋系统

### 2.1 天赋获取方式

- **唯一来源**：升级时选择解锁
- 每次升级从可用天赋池中随机抽取3个供选择
- 已解锁的天赋不会再次出现
- 部分高级天赋需要前置天赋解锁后才会进入抽取池

### 2.2 天赋树结构

```
┌─────────────────────────────────────────────────────────────────┐
│ 战斗系 (Combat)                                                 │
│                                                                 │
│  枪械精通 ──► 快速射击                                          │
│  (伤害+10%)   (射速+15%)                                        │
│                                                                 │
│  致命一击 ──► 暴击强化                                          │
│  (暴击率+5%)  (暴伤+50%)                                        │
├─────────────────────────────────────────────────────────────────┤
│ 生存系 (Survival)                                               │
│                                                                 │
│  生命强化 ──► 快速恢复                                          │
│  (最大HP+20)  (每5秒回1%HP)                                     │
│                                                                 │
│  护甲护盾 ──► 闪避精通                                          │
│  (减伤10%)    (闪避率+5%)                                       │
├─────────────────────────────────────────────────────────────────┤
│ 资源系 (Resource)                                               │
│                                                                 │
│  贪婪之手 ──► 掉落强化                                          │
│  (金币+15%)   (稀有率+10%)                                      │
│                                                                 │
│  经验增幅 ──► 精英猎手                                          │
│  (经验+20%)   (对精英+15%)                                      │
├─────────────────────────────────────────────────────────────────┤
│ 特殊系 (Special)                                                │
│                                                                 │
│  双重火力 ──► 武器大师                                          │
│  (武器栏+1)   (所有武器等级+1)                                  │
│                                                                 │
│  不死之魂                                                       │
│  (濒死无敌3秒/关卡)                                             │
└─────────────────────────────────────────────────────────────────┘
```

### 2.3 战斗系天赋

| 天赋 | 效果 | 前置天赋 |
|------|------|----------|
| 枪械精通 | 所有武器伤害+10% | 无 |
| 快速射击 | 所有武器射速+15% | 枪械精通 |
| 致命一击 | 暴击率+5% | 无 |
| 暴击强化 | 暴击伤害+50% | 致命一击 |

### 2.4 生存系天赋

| 天赋 | 效果 | 前置天赋 |
|------|------|----------|
| 生命强化 | 最大HP+20 | 无 |
| 快速恢复 | 每5秒回复1%HP | 生命强化 |
| 护甲护盾 | 减免10%伤害 | 无 |
| 闪避精通 | 5%闪避率 | 护甲护盾 |

### 2.5 资源系天赋

| 天赋 | 效果 | 前置天赋 |
|------|------|----------|
| 贪婪之手 | 金币获取+15% | 无 |
| 经验增幅 | 经验获取+20% | 无 |
| 精英猎手 | 对精英怪伤害+15% | 经验增幅 |
| 掉落强化 | 稀有掉落率+10% | 贪婪之手 |

### 2.6 特殊系天赋

| 天赋 | 效果 | 前置天赋 |
|------|------|----------|
| 双重火力 | 武器栏位+1 | 无 |
| 武器大师 | 所有武器等级+1 | 双重火力 |
| 不死之魂 | 濒死时无敌3秒(每关1次) | 无 |

---

## 3. 关卡系统

### 3.1 关卡结构

每个关卡持续 **2分钟**，敌人生成类型和数量**只与当前关卡挂钩**。

| 关卡 | 时长 | 敌人类型 | 生成间隔 | 敌人数量倍率 |
|------|------|----------|----------|--------------|
| 1 | 2分钟 | 普通敌人 | 2.0秒 | 1.0x |
| 2 | 2分钟 | 普通敌人 + 冲撞敌人 | 1.8秒 | 1.1x |
| 3 | 2分钟 | 普通 + 冲撞 + 射击敌人 | 1.6秒 | 1.2x |
| 4-5 | 2分钟 | 全部基础类型 | 1.4秒 | 1.4x |
| 6-10 | 2分钟 | 全部类型 + 精英怪 | 1.2秒 | 1.6x |
| 11+ | 2分钟 | 高难混合 | 1.0秒 | 2.0x+ |

### 3.2 敌人生成配置（按关卡）

| 关卡 | 普通敌人 | 冲撞敌人 | 射击敌人 | 精英怪 |
|------|----------|----------|----------|--------|
| 1 | 100% | 0% | 0% | 0% |
| 2 | 70% | 30% | 0% | 0% |
| 3 | 50% | 30% | 20% | 0% |
| 4-5 | 40% | 30% | 30% | 0% |
| 6-10 | 35% | 25% | 30% | 10% |
| 11+ | 30% | 25% | 30% | 15% |

### 3.3 难度曲线

```
难度系数 = 1.10 ^ (关卡 - 1)

关卡1:  1.00x  HP30   伤害10
关卡5:  1.46x  HP44   伤害15
关卡10: 2.36x  HP71   伤害24
关卡20: 6.12x  HP184  伤害61
关卡30: 15.9x  HP477  伤害159
```

### 3.4 关卡属性成长

- 怪物血量：每关 +10%
- 怪物伤害：每关 +5%
- 生成频率：每关 -10% 间隔（最低1秒）
- 精英怪出现率：关卡6起，每关 +2%

---

## 4. 经济系统

### 4.1 金币获取

| 来源 | 数量 | 说明 |
|------|------|------|
| 击杀普通怪 | 5-15 | 基础掉落 |
| 击杀精英怪 | 30-80 | 精英怪掉落 |
| 击杀BOSS | 100-300 | 关卡BOSS |
| 关卡通关奖励 | 50 × 关卡数 | 通关后结算 |

### 4.2 金币消耗

| 用途 | 价格 | 说明 |
|------|------|------|
| 购买新武器 | 100-500 | 商店购买 |
| 武器升级 | 50 × 等级 | 每级递增 |
| 恢复生命值 | 30 | 回复50%HP |
| 购买道具 | 30-100 | 一次性道具 |

### 4.3 经验获取

**经验只能用于升级，升级时选择天赋。**

| 来源 | 经验值 |
|------|--------|
| 普通怪 | 10-30 |
| 精英怪 | 80-150 |
| BOSS | 300-500 |
| 关卡通关 | 100 × 关卡数 |

---

*文档版本：1.1*
*最后更新：2026年2月1日*
